package com.programmersgateway.sm1999.covid19sahayak.network;import android.app.Service;import android.content.Context;import android.net.ConnectivityManager;import android.net.NetworkInfo;public class ConnectionDetector {    Context context;    public ConnectionDetector(Context context) {        this.context = context;    }    public boolean isConnected() {        ConnectivityManager connectivity = (ConnectivityManager) context.getSystemService(Service.CONNECTIVITY_SERVICE);        if (connectivity != null) {            NetworkInfo info = connectivity.getActiveNetworkInfo();            if (info != null) {                if (info.getState() == NetworkInfo.State.CONNECTED) {                    return true;                }            }        }        return false;    }    public final boolean isInternetOn() {        ConnectivityManager connec = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);        // ARE WE CONNECTED TO THE NET        if (connec.getNetworkInfo(0).getState() == NetworkInfo.State.CONNECTED                || connec.getNetworkInfo(0).getState() == NetworkInfo.State.CONNECTING                || connec.getNetworkInfo(1).getState() == NetworkInfo.State.CONNECTING                || connec.getNetworkInfo(1).getState() == NetworkInfo.State.CONNECTED) {            // MESSAGE TO SCREEN FOR TESTING (IF REQ)            // Toast.LENGTH_SHORT).show();            return true;        } else if (connec.getNetworkInfo(0).getState() == NetworkInfo.State.DISCONNECTED                || connec.getNetworkInfo(1).getState() == NetworkInfo.State.DISCONNECTED) {            //System.out.println(“Not Connected�?);            return false;        }        return false;    }    public boolean isInternetConnection() {        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);        if (connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED ||                connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED) {            //we are connected to a network            return true;        }        return false;    }    public boolean isOnline() {        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);        NetworkInfo netInfo = cm.getActiveNetworkInfo();        if (netInfo != null && netInfo.isConnectedOrConnecting()) {            return true;        } else {            return false;        }    }    public boolean isConnectingToInternet()    {        ConnectivityManager connectivity = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);        if (connectivity != null)        {            NetworkInfo[] info = connectivity.getAllNetworkInfo();            if (info != null)                for (int i = 0; i < info.length; i++)                    if (info[i].getState() == NetworkInfo.State.CONNECTED)                    {                        return true;                    }        }        return false;    }    public boolean isNetworkConnected() {        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);        return cm.getActiveNetworkInfo() != null;    }    public boolean internetIsConnected() {        try {            String command = "ping -c 1 google.com";            return (Runtime.getRuntime().exec(command).waitFor() == 0);        } catch (Exception e) {            return false;        }    }}